version: '3.9'

networks:
  gateway_net:
    driver: bridge  

services:
  gateway:
    container_name: gateway
    build:
      context: ./gateway  
      dockerfile: Dockerfile
    ports:
      - "8080:8080"
    networks:
      - gateway_net
    environment:
      - AUTH_SERVICE_URL=${AUTH_SERVICE_URL:-http://localhost:8000}  # üîπ –ú–æ–∂–Ω–æ –∑–∞–º–µ–Ω–∏—Ç—å URL, –µ—Å–ª–∏ `auth` –Ω–µ –∑–∞–ø—É—â–µ–Ω
    secrets:
      - jwt_secret  

secrets:
  jwt_secret:
    external: true  